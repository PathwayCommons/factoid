// Generated by CoffeeScript 1.3.1
var ClientIdMongo, exports;

exports = module.exports = function(racer) {
  return racer.registerAdapter('clientId', 'Mongo', ClientIdMongo);
};

exports.useWith = {
  server: true,
  browser: false
};

exports.decorate = 'racer';

ClientIdMongo = function(_options) {
  this._options = _options;
};

ClientIdMongo.prototype.generateFn = function() {
  var ObjectID;
  ObjectID = this._options.mongo.BSONPure.ObjectID;
  return function(callback) {
    var guid;
    try {
      guid = (new ObjectId).toString();
      callback(null, guid);
    } catch (e) {
      callback(e);
    }
  };
};
