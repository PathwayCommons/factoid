@boxPadding: 0.5em;
@linkColor: #0094d6;
@borderColor: #cacaca;

.organism-icon {
	height: 1.666em;
	width: 1.666em;
	position: absolute;
	bottom: 0.7em;
	right: 0;
	z-index: 0;
	opacity: 0.333;
	background: transparent !important;
	margin: 0.333em;
	border: 1px solid #555;
}

.entities {
	.entity,
	.interaction {
		border: 1px solid @borderColor;
		padding: @boxPadding/4 @boxPadding/2;
		position: relative;

		[class^="icon-"],
		[class*=" icon-"] {
			display: inline-block;
		}

		clear: both;
	}

	.entity {
		border-radius: 1em;
	}

	.moving-down-true {
		.animated;
		.fadeOutDownBig;
		.animation-speed-slow;
		position: absolute;
	}

	.just-added-true {
		.animated;
		.animation-speed-slow;
		.fadeIn;
	}

	.icons {
		color: #666;
		float: right;
		
		button {
			margin-right: 0.5em;
		}

		.buttonset {
			margin-right: 0.5em;

			button {
				margin: 0;
			}
		}

		& :last-child {
			margin-right: 0;
		}
	}

	.name {
		margin: 0 @boxPadding/2 0 0;

		input {
			margin-top: -1px;
			margin-left: -1px;
			display: inline-block;
			width: 11em;
		}
	}

	.interaction .name {
		width: 11em;
		display: inline-block;
	}

	.interaction .edit {
		visibility: hidden;
	}

	.edit {
		color: #666;

		&.associated-true {
			
		}
	}

	.entity-instance {
		margin: @boxPadding/2;
		@colour: #fdb722;

		&.selected-true {
			//border-color: lighten(@colour, 15%);
		}

		&.selected-true .selection-indicator {
			height: 1.85em;
			position: absolute;
			left: -0.35em;
			top: -0.0625em;
			background: @colour;
			width: 0.25em;
			border-radius: 1em;
			//display: none;
		}
	}

	.add-participants-popover {
		right: 0;
		margin-left: 1.25em;
		margin-right: 1.25em;
		margin-bottom: 0.5em;
		padding: 0 0.75em;

		.arrow {
			margin-left: 6.95em;
		}

		.participant {
			margin: @boxPadding 0;
			padding: 0;
		}

		.name {
			margin-left: 0.5em;
		}

		.icons,
		.icons * {
			line-height: 0.8;
		}
	}

	.annotation-icons {
		.icon-with-true { display: none; }

		&.with-true {
			.icon-with-true { display: inline-block; }
			.icon-with-false { display: none; }
		}
	}

	.annotations-popover {
		margin-bottom: 0.5em;
		margin-left: 1.25em;
		margin-right: 1.25em;

		.arrow {
			margin-left: 4.5em;
		}

		label {
			color: #888;
			font-size: 0.8em;
		}

		textarea {
			height: 6em;
			display: block;
			width: 100%;
		}

		.clear-icon {
			float: right;
		}
	}

	.participants-list {
		font-size: 0.8em;
		margin: 0 2.9em 0 2.75em;

		.participant {
			padding: 0;
		}

		.participant + .participant {
			margin: @boxPadding 0;
		}

		.name {
			margin-left: 0.5em;
		}

		.icons,
		.icons * {
			font-size: 1.125em;
			line-height: 0.8;
		}

		.small-title {
			margin-top: 0.5em;
			margin-bottom: 0.25em;
		}
	}

	.association-popover {
		.arrow {
			left: 3em;
		}

		margin-bottom: 0.5em;

		.popover-alert {
			margin-top: -0em;
			margin-bottom: 0.75em;
		}
	}

	.entity-info-button {
		text-align: left;
		line-height: 1;
		display: block;
		position: relative;
		width: 100%;
		padding: 0.15em 0.333em;

		@bg: desaturate( lighten(@linkColor, 50%), 50% );
		background: @bg;
		border: 1px solid darken(@bg, 10%);
		color: #000;

		&:active {
			background: desaturate( darken(@bg, 15%), 25%);
		}

		.small {
			font-size: 0.8em;
		}

		.name {
			margin-top: 0.125em;
			text-align: left;
		}

		.full-name {
			font-size: 0.6em;
			display: block;
			margin-bottom: 0.5em;
			text-align: left;
			max-width: 29em;
		}

		.meta {
			text-align: left;
		}

		.organism,
		.type {
			.small;
			.meta;
		}

		.organism {
			float: right;
		}


	}

	.entity-info {

		.summary {
			overflow: hidden;
			.entity-info-button;
			border: 1px solid #f0f0f0;
			background: #fcfcfc;
			border-radius: 0.25em;
			width: auto;
			padding: 0.25em;

			&:active {
				background: #fcfcfc;
			}

		}

		.disassociate {
			margin: 0;
			cursor: pointer;
			line-height: 1;
			position: relative;
			text-align: right;
			float: right;

			.active-area {  }
			.label { font-size: 0.8em; color: #888; }
			.associate-icon { color: #888; }
			.remove-icon { font-size: 1.25em; margin-left: -0.333em; }
		}

		.link-area {
			font-size: 0.8em;
		}

		.function {
			margin-top: 0.5em;
		}

		&.loading {
			height: 1.5em;
			background-image: url('/img/small-loader-white-bg.gif');
			background-position: left center;
			background-repeat: no-repeat;
			padding-left: 24px;

			&:after {
				content: 'Loading...';
			}
		}
	}

	.specify {
		position: relative;
	}

	&.associated-true .specify {
		display: none;
	}

	.association-ui .loading-message {
		font-size: 0.8em;

		.loading-spinner-icon {
			position: relative;
			top: 0.125em;
		}
	}

	.associations {
		position: relative;
		overflow: auto;
		padding: 0 0.25em;

		.associate-button {
			.entity-info-button;
			overflow: hidden;
		}

		.associate-button {
			margin: 0.5em 0;
		}
	}

	.loading {
		.text-clear-icon {
			display: none;
		}

		.name-input {
			background-image: url('/img/small-loader-white-bg.gif');
			background-position: right center;
			background-repeat: no-repeat;
		}

		.associations {
			display: none;
		}

		.info {
			display: none;
		}
	}

	.associated-info-ui {
		padding: 0.25em;
		overflow: auto;

		h3 {
			display: inline-block;
			margin-right: 0.25em;
			margin-top: 0.5em;

			&:after {
				content: ' : ';
			}
		}

		.text {
			font-size: 0.8em;
		}
	}
}

#entities-list {
	.entities;

	.info {
		margin: 0.25em 0;
	}

	& > .info {
		margin: 0.25em 0.5em;
	}
}

.add-participants-list {
	.entities;

	font-size: 0.8em;

	.participant + .participant {
		margin-top: 0.25em;
	}

	.icons {
		margin-left: 0.5em;
		font-size: 1.125*1.125em;
		line-height: 1.125*1.125em;
	}

	.info {
		font-size: 1em;
	}

}